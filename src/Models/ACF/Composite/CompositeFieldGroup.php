<?php

namespace Bonnier\WP\ContentHub\Editor\Models\ACF\Composite;

use Bonnier\WP\ContentHub\Editor\Models\WpComposite;

/**
 * Class CompositeFieldGroup
 *
 * @package \Bonnier\WP\ContentHub\Editor\Models\ACF\Composite
 */
class CompositeFieldGroup
{
    const AUTHOR_KEY = 'field_5af9888b4b7a1';
    const CONTENT_FIELD = 'field_58aae476809c6';
    const SHELL_LINK_FIELD = 'field_5d66623efb36e';
    const KIND_FIELD = 'field_58e388862daa8';
    const VIDEO_TEASER_IMAGE_FIELD = 'field_5a8d7ae021e44';

    const KIND_TYPE_SHELL = 'Shell';

    public static function register()
    {
        static::create_acf_field_group();
        static::register_author_hooks();
    }

    private static function create_acf_field_group()
    {
        if (function_exists('acf_add_local_field_group')):

            acf_add_local_field_group([
                'key' => 'group_58abfd3931f2f',
                'title' => 'Composite Fields',
                'fields' => [
                    [
                        'key' => static::KIND_FIELD,
                        'label' => 'Kind',
                        'name' => 'kind',
                        'type' => 'radio',
                        'instructions' => '',
                        'required' => 1,
                        'conditional_logic' => 0,
                        'wrapper' => [
                            'width' => '',
                            'class' => '',
                            'id' => '',
                        ],
                        'choices' => [
                            'Article'               => 'Article',
                            static::KIND_TYPE_SHELL => static::KIND_TYPE_SHELL,
                            'Story'                 => 'Story',
                        ],
                        'other_choice' => 0,
                        'save_other_choice' => 0,
                        'default_value' => 'Article',
                        'layout' => 'horizontal',
                        'allow_null' => 0,
                        'return_format' => 'value',
                    ],
                    [
                        'key' => 'field_58abfebd21b82',
                        'label' => 'Description',
                        'name' => 'description',
                        'type' => 'textarea',
                        'instructions' => '',
                        'required' => 0,
                        'conditional_logic' => 0,
                        'wrapper' => [
                            'width' => '',
                            'class' => '',
                            'id' => '',
                        ],
                        'default_value' => '',
                        'placeholder' => '',
                        'maxlength' => '',
                        'rows' => '',
                        'new_lines' => '',
                        'readonly' => 0,
                        'disabled' => 0,
                    ],
                    [
                        'key' => self::AUTHOR_KEY,
                        'label' => 'Author',
                        'name' => 'author',
                        'type' => 'user',
                        'instructions' => '',
                        'required' => 0,
                        'conditional_logic' => 0,
                        'wrapper' => [
                            'width' => '',
                            'class' => '',
                            'id' => '',
                        ],
                        'role' => '',
                        'allow_null' => 0,
                        'multiple' => 0,
                        'return_format' => 'array',
                    ],
                    [
                        'key' => 'field_5a8d44d026528',
                        'label' => 'Author Description',
                        'name' => 'author_description',
                        'type' => 'text',
                        'instructions' => 'Extra information about the authors ie. who took the photos or did the styling',
                        'required' => 0,
                        'conditional_logic' => 0,
                        'wrapper' => [
                            'width' => '',
                            'class' => '',
                            'id' => '',
                        ],
                        'default_value' => '',
                        'placeholder' => '',
                        'prepend' => '',
                        'append' => '',
                        'maxlength' => '',
                    ],
                    [
                        'key' => 'field_58e39a7118284',
                        'label' => 'Category',
                        'name' => 'category',
                        'type' => 'taxonomy',
                        'instructions' => '',
                        'required' => 1,
                        'conditional_logic' => 0,
                        'wrapper' => [
                            'width' => '',
                            'class' => '',
                            'id' => '',
                        ],
                        'taxonomy' => 'category',
                        'field_type' => 'select',
                        'allow_null' => 0,
                        'add_term' => 0,
                        'save_terms' => 1,
                        'load_terms' => 0,
                        'return_format' => 'object',
                        'multiple' => 0,
                    ],
                    [
                        'key' => 'field_58f606b6e1fb0',
                        'label' => 'Tags',
                        'name' => 'tags',
                        'type' => 'taxonomy',
                        'instructions' => '',
                        'required' => 0,
                        'conditional_logic' => 0,
                        'wrapper' => [
                            'width' => '',
                            'class' => '',
                            'id' => '',
                        ],
                        'taxonomy' => 'post_tag',
                        'field_type' => 'multi_select',
                        'allow_null' => 0,
                        'add_term' => 1,
                        'save_terms' => 1,
                        'load_terms' => 0,
                        'return_format' => 'object',
                        'multiple' => 0,
                    ],
                    [
                        'key' => 'field_5afa811fbf221',
                        'label' => 'Article Content',
                        'name' => '',
                        'type' => 'message',
                        'instructions' => 'Click the add widget button to add content',
                        'required' => 0,
                        'conditional_logic' => [
                            [
                                [
                                    'field' => static::KIND_FIELD,
                                    'operator' => '!=',
                                    'value' => static::KIND_TYPE_SHELL,
                                ],
                            ],
                        ],
                        'wrapper' => [
                            'width' => '',
                            'class' => '',
                            'id' => '',
                        ],
                        'message' => '<hr>',
                        'new_lines' => 'wpautop',
                        'esc_html' => 0,
                    ],
                    [
                        'key' => 'field_5921f0c676974',
                        'label' => 'Locked Content',
                        'name' => 'locked_content',
                        'type' => 'true_false',
                        'instructions' => 'Check this box if you want parts of the content to be locked.
														Please note that you should mark each content item that you want to be locked,
														by checking the "Locked Content" checkbox.',
                        'required' => 0,
                        'conditional_logic' => [
                            [
                                [
                                    'field' => static::KIND_FIELD,
                                    'operator' => '!=',
                                    'value' => static::KIND_TYPE_SHELL,
                                ],
                            ],
                        ],
                        'wrapper' => [
                            'width' => '',
                            'class' => '',
                            'id' => '',
                        ],
                        'message' => '',
                        'default_value' => 0,
                        'ui' => 0,
                        'ui_on_text' => '',
                        'ui_off_text' => '',
                    ],
                    [
                        'key' => 'field_5921f0e576975',
                        'label' => 'Required User Role',
                        'name' => 'required_user_role',
                        'type' => 'select',
                        'instructions' => 'Select the role required to access the locked parts of the content',
                        'required' => 0,
                        'conditional_logic' => [
                            [
                                [
                                    'field' => 'field_5921f0c676974',
                                    'operator' => '==',
                                    'value' => '1',
                                ],
                            ],
                            [
                                [
                                    'field' => static::KIND_FIELD,
                                    'operator' => '!=',
                                    'value' => static::KIND_TYPE_SHELL,
                                ],
                            ],
                        ],
                        'wrapper' => [
                            'width' => '',
                            'class' => '',
                            'id' => '',
                        ],
                        'choices' => [
                            'RegUser' => 'Registered User',
                            'Subscriber' => 'Subscriber',
                        ],
                        'default_value' => [
                        ],
                        'allow_null' => 0,
                        'multiple' => 0,
                        'ui' => 0,
                        'return_format' => 'value',
                        'ajax' => 0,
                        'placeholder' => '',
                    ],
                    [
                        'key' => 'field_58aae476809c6',
                        'label' => 'Content (Widgets]',
                        'name' => 'composite_content',
                        'type' => 'flexible_content',
                        'instructions' => '',
                        'required' => 1,
                        'conditional_logic' => [
                            [
                                [
                                    'field' => static::KIND_FIELD,
                                    'operator' => '!=',
                                    'value' => static::KIND_TYPE_SHELL,
                                ],
                            ],
                        ],
                        'wrapper' => [
                            'width' => '',
                            'class' => '',
                            'id' => '',
                        ],
                        'layouts' => [
                            '58aae53c26608' => [
                                'key' => '58aae53c26608',
                                'name' => 'text_item',
                                'label' => 'Text',
                                'display' => 'block',
                                'sub_fields' => [
                                    [
                                        'key' => 'field_58aae55326609',
                                        'label' => 'Body',
                                        'name' => 'body',
                                        'type' => 'markdown-editor',
                                        'instructions' => '',
                                        'required' => 1,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'simple_mde_config' => 'standard',
                                        'font_size' => 14,
                                    ],
                                ],
                                'min' => '',
                                'max' => '',
                            ],
                            '58aaef9fb02bc' => [
                                'key' => '58aaef9fb02bc',
                                'name' => 'image',
                                'label' => 'Image',
                                'display' => 'block',
                                'sub_fields' => [
                                    [
                                        'key' => 'field_5908407c246cb',
                                        'label' => 'Lead Image',
                                        'name' => 'lead_image',
                                        'type' => 'true_false',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'message' => '',
                                        'default_value' => 0,
                                        'ui' => 0,
                                        'ui_on_text' => '',
                                        'ui_off_text' => '',
                                    ],
                                    [
                                        'key' => 'field_58aaf042b02c1',
                                        'label' => 'File',
                                        'name' => 'file',
                                        'type' => 'image',
                                        'instructions' => '',
                                        'required' => 1,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'return_format' => 'array',
                                        'preview_size' => 'thumbnail',
                                        'library' => 'all',
                                        'min_width' => '',
                                        'min_height' => '',
                                        'min_size' => '',
                                        'max_width' => '',
                                        'max_height' => '',
                                        'max_size' => '',
                                        'mime_types' => '',
                                    ],
                                    [
                                        'key' => 'field_5922bd8e5cd9e',
                                        'label' => 'Locked Content',
                                        'name' => 'locked_content',
                                        'type' => 'true_false',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => [
                                            [
                                                [
                                                    'field' => 'field_5921f0c676974',
                                                    'operator' => '==',
                                                    'value' => '1',
                                                ],
                                            ],
                                        ],
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'message' => '',
                                        'default_value' => 0,
                                        'ui' => 0,
                                        'ui_on_text' => '',
                                        'ui_off_text' => '',
                                    ],
                                    [
                                        'key' => 'field_5ba0c550e9e5f',
                                        'label' => 'Link',
                                        'name' => 'link',
                                        'type' => 'url',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'default_value' => '',
                                        'placeholder' => '',
                                    ],
                                    [
                                        'key' => 'field_5ba0c558e9e60',
                                        'label' => 'Open in',
                                        'name' => 'target',
                                        'type' => 'radio',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => [
                                            [
                                                [
                                                    'field' => 'field_5ba0c550e9e5f',
                                                    'operator' => '!=empty',
                                                ],
                                            ],
                                        ],
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'choices' => [
                                            '_self' => 'Same window',
                                            '_blank' => 'New window',
                                        ],
                                        'allow_null' => 0,
                                        'other_choice' => 0,
                                        'default_value' => '_self',
                                        'layout' => 'vertical',
                                        'return_format' => 'value',
                                        'save_other_choice' => 0,
                                    ],
                                    [
                                        'key' => 'field_5ba0c574e9e61',
                                        'label' => 'Relationship (Follow / No Follow)',
                                        'name' => 'rel',
                                        'type' => 'radio',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => [
                                            [
                                                [
                                                    'field' => 'field_5ba0c550e9e5f',
                                                    'operator' => '!=empty',
                                                ],
                                            ],
                                        ],
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'choices' => [
                                            'follow' => 'Follow',
                                            'nofollow' => 'No Follow',
                                        ],
                                        'allow_null' => 0,
                                        'other_choice' => 0,
                                        'default_value' => 'follow',
                                        'layout' => 'vertical',
                                        'return_format' => 'value',
                                        'save_other_choice' => 0,
                                    ],
                                    [
                                        'key' => 'field_5bb4a00b2aa05',
                                        'label' => 'Display Format',
                                        'name' => 'display_hint',
                                        'type' => 'radio',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'choices' => [
                                            'inline' => 'Inline',
                                            'wide' => 'Full Width',
                                        ],
                                        'allow_null' => 0,
                                        'other_choice' => 0,
                                        'save_other_choice' => 0,
                                        'default_value' => 'inline',
                                        'layout' => 'vertical',
                                        'return_format' => 'value',
                                    ],
                                ],
                                'min' => '',
                                'max' => '',
                            ],
                            'layout_5b6aee597180e' => [
                                'key' => 'layout_5b6aee597180e',
                                'name' => 'audio',
                                'label' => 'Audio',
                                'display' => 'block',
                                'sub_fields' => [
                                    [
                                        'key' => 'field_5b6aee6a7180f',
                                        'label' => 'File',
                                        'name' => 'file',
                                        'type' => 'file',
                                        'instructions' => '',
                                        'required' => 1,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'return_format' => 'array',
                                        'library' => 'all',
                                        'min_size' => '',
                                        'max_size' => '',
                                        'mime_types' => '',
                                    ],
                                    [
                                        'key' => 'field_5b6bf0163e57d',
                                        'label' => 'Title',
                                        'name' => 'title',
                                        'type' => 'text',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'default_value' => '',
                                        'placeholder' => '',
                                        'prepend' => '',
                                        'append' => '',
                                        'maxlength' => '',
                                    ],
                                    [
                                        'key' => 'field_5b716358c2e60',
                                        'label' => 'Image',
                                        'name' => 'image',
                                        'type' => 'image',
                                        'instructions' => 'picture shown on audio of the audio file.
																						If not set, it\'ll default to the lead image.',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'return_format' => 'array',
                                        'preview_size' => 'thumbnail',
                                        'library' => 'all',
                                        'min_width' => '',
                                        'min_height' => '',
                                        'min_size' => '',
                                        'max_width' => '',
                                        'max_height' => '',
                                        'max_size' => '',
                                        'mime_types' => '',
                                    ],
                                ],
                                'min' => '',
                                'max' => '',
                            ],
                            '590aef9de4a5e' => [
                                'key' => '590aef9de4a5e',
                                'name' => 'file',
                                'label' => 'File',
                                'display' => 'block',
                                'sub_fields' => [
                                    [
                                        'key' => 'field_590aefe3e4a5f',
                                        'label' => 'Caption',
                                        'name' => 'caption',
                                        'type' => 'textarea',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'default_value' => '',
                                        'placeholder' => '',
                                        'maxlength' => '',
                                        'rows' => '',
                                        'new_lines' => '',
                                    ],
                                    [
                                        'key' => 'field_590af026e4a61',
                                        'label' => 'File',
                                        'name' => 'file',
                                        'type' => 'file',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'return_format' => 'array',
                                        'library' => 'all',
                                        'min_size' => '',
                                        'max_size' => '',
                                        'mime_types' => '',
                                    ],
                                    [
                                        'key' => 'field_5921e5a83f4ea',
                                        'label' => 'Images',
                                        'name' => 'images',
                                        'type' => 'repeater',
                                        'instructions' => '',
                                        'required' => 1,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'collapsed' => '',
                                        'min' => 0,
                                        'max' => 0,
                                        'layout' => 'table',
                                        'button_label' => 'Add Image',
                                        'sub_fields' => [
                                            [
                                                'key' => 'field_5921e94c3f4eb',
                                                'label' => 'File',
                                                'name' => 'file',
                                                'type' => 'image',
                                                'instructions' => '',
                                                'required' => 1,
                                                'conditional_logic' => 0,
                                                'wrapper' => [
                                                    'width' => '',
                                                    'class' => '',
                                                    'id' => '',
                                                ],
                                                'return_format' => 'array',
                                                'preview_size' => 'thumbnail',
                                                'library' => 'all',
                                                'min_width' => '',
                                                'min_height' => '',
                                                'min_size' => '',
                                                'max_width' => '',
                                                'max_height' => '',
                                                'max_size' => '',
                                                'mime_types' => '',
                                            ],
                                        ],
                                    ],
                                    [
                                        'key' => 'field_590af0eee4a62',
                                        'label' => 'Locked Content',
                                        'name' => 'locked_content',
                                        'type' => 'true_false',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => [
                                            [
                                                [
                                                    'field' => 'field_5921f0c676974',
                                                    'operator' => '==',
                                                    'value' => '1',
                                                ],
                                            ],
                                        ],
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'message' => '',
                                        'default_value' => 0,
                                        'ui' => 0,
                                        'ui_on_text' => '',
                                        'ui_off_text' => '',
                                    ],
                                    [
                                        'key' => 'field_59e49490911cf',
                                        'label' => 'Download Button Text (Optional]',
                                        'name' => 'download_button_text',
                                        'type' => 'text',
                                        'instructions' => 'This will override the default button text.',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'default_value' => '',
                                        'placeholder' => '',
                                        'prepend' => '',
                                        'append' => '',
                                        'maxlength' => '',
                                    ],
                                ],
                                'min' => '',
                                'max' => '',
                            ],
                            '58aaea63b12d2' => [
                                'key' => '58aaea63b12d2',
                                'name' => 'video',
                                'label' => 'Video',
                                'display' => 'block',
                                'sub_fields' => [
                                    [
                                        'key' => static::VIDEO_TEASER_IMAGE_FIELD,
                                        'label' => 'Teaser Image',
                                        'name' => 'video_teaser_image',
                                        'type' => 'true_false',
                                        'instructions' => 'This will generate an image from the video
																						and set it as a <b>teaser image</b> for the article.',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'message' => '',
                                        'default_value' => 0,
                                        'ui' => 0,
                                        'ui_on_text' => '',
                                        'ui_off_text' => '',
                                    ],
                                    [
                                        'key' => 'field_5938fe71ed0bb',
                                        'label' => 'Embed Url',
                                        'name' => 'embed_url',
                                        'type' => 'text',
                                        'instructions' => 'Paste the embed url from your video provider, supported providers are:
																						Vimeo, YouTube, 23Video',
                                        'required' => 1,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'default_value' => '',
                                        'placeholder' => '',
                                        'prepend' => '',
                                        'append' => '',
                                        'maxlength' => '',
                                    ],
                                    [
                                        'key' => 'field_58aaeb26b12d4',
                                        'label' => 'Caption',
                                        'name' => 'caption',
                                        'type' => 'textarea',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'default_value' => '',
                                        'placeholder' => '',
                                        'maxlength' => '',
                                        'rows' => '',
                                        'new_lines' => '',
                                    ],
                                    [
                                        'key' => 'field_5922be0e5cda4',
                                        'label' => 'Locked Content',
                                        'name' => 'locked_content',
                                        'type' => 'true_false',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => [
                                            [
                                                [
                                                    'field' => 'field_5921f0c676974',
                                                    'operator' => '==',
                                                    'value' => '1',
                                                ],
                                            ],
                                        ],
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'message' => '',
                                        'default_value' => 0,
                                        'ui' => 0,
                                        'ui_on_text' => '',
                                        'ui_off_text' => '',
                                    ],
                                ],
                                'min' => '',
                                'max' => '',
                            ],
                            '590b1798c8768' => [
                                'key' => '590b1798c8768',
                                'name' => 'link',
                                'label' => 'Link',
                                'display' => 'block',
                                'sub_fields' => [
                                    [
                                        'key' => 'field_590b17c4c876a',
                                        'label' => 'URL',
                                        'name' => 'url',
                                        'type' => 'text',
                                        'instructions' => '',
                                        'required' => 1,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'default_value' => '',
                                        'placeholder' => '',
                                        'prepend' => '',
                                        'append' => '',
                                        'maxlength' => '',
                                    ],
                                    [
                                        'key' => 'field_590b179fc8769',
                                        'label' => 'Button text',
                                        'name' => 'title',
                                        'type' => 'text',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'default_value' => '',
                                        'placeholder' => '',
                                        'prepend' => '',
                                        'append' => '',
                                        'maxlength' => '',
                                    ],
                                    [
                                        'key' => 'field_590b17d4c876b',
                                        'label' => 'Target',
                                        'name' => 'target',
                                        'type' => 'select',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'choices' => [
                                            'Default' => 'Default For the Site',
                                            'Self' => 'Open in same window/tab',
                                            'Blank' => 'Open in a new tab',
                                            'Download' => 'Force download a file',
                                        ],
                                        'default_value' => [
                                            0 => 'Default',
                                        ],
                                        'allow_null' => 0,
                                        'multiple' => 0,
                                        'ui' => 0,
                                        'ajax' => 0,
                                        'return_format' => 'value',
                                        'placeholder' => '',
                                    ],
                                    [
                                        'key' => 'field_5922be3e5cda5',
                                        'label' => 'Locked Content',
                                        'name' => 'locked_content',
                                        'type' => 'true_false',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => [
                                            [
                                                [
                                                    'field' => 'field_5921f0c676974',
                                                    'operator' => '==',
                                                    'value' => '1',
                                                ],
                                            ],
                                        ],
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'message' => '',
                                        'default_value' => 0,
                                        'ui' => 0,
                                        'ui_on_text' => '',
                                        'ui_off_text' => '',
                                    ],
                                ],
                                'min' => '',
                                'max' => '',
                            ],
                            '5a4f4dea1745f' => [
                                'key' => '5a4f4dea1745f',
                                'name' => 'gallery',
                                'label' => 'Gallery',
                                'display' => 'block',
                                'sub_fields' => [
                                    [
                                        'key' => 'field_5a952a1a811d2',
                                        'label' => 'Title',
                                        'name' => 'title',
                                        'type' => 'text',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'default_value' => '',
                                        'placeholder' => '',
                                        'prepend' => '',
                                        'append' => '',
                                        'maxlength' => '',
                                    ],
                                    [
                                        'key' => 'field_5bbb153867a6f',
                                        'label' => 'Description',
                                        'name' => 'description',
                                        'type' => 'markdown-editor',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'simple_mde_config' => 'standard',
                                        'font_size' => 14,
                                    ],
                                    [
                                        'key' => 'field_5a4f4dfd17460',
                                        'label' => 'Images',
                                        'name' => 'images',
                                        'type' => 'repeater',
                                        'instructions' => '',
                                        'required' => 1,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'collapsed' => '',
                                        'min' => 0,
                                        'max' => 0,
                                        'layout' => 'block',
                                        'button_label' => 'Add Image to Gallery',
                                        'sub_fields' => [
                                            [
                                                'key' => 'field_5a4f4e0f17461',
                                                'label' => 'Image',
                                                'name' => 'image',
                                                'type' => 'image',
                                                'instructions' => '',
                                                'required' => 1,
                                                'conditional_logic' => 0,
                                                'wrapper' => [
                                                    'width' => '',
                                                    'class' => '',
                                                    'id' => '',
                                                ],
                                                'return_format' => 'array',
                                                'preview_size' => 'thumbnail',
                                                'library' => 'all',
                                                'min_width' => '',
                                                'min_height' => '',
                                                'min_size' => '',
                                                'max_width' => '',
                                                'max_height' => '',
                                                'max_size' => '',
                                                'mime_types' => '',
                                            ],
                                            [
                                                'key' => 'field_5bbb151067a6e',
                                                'label' => 'Title',
                                                'name' => 'title',
                                                'type' => 'text',
                                                'instructions' => '',
                                                'required' => 0,
                                                'conditional_logic' => 0,
                                                'wrapper' => [
                                                    'width' => '',
                                                    'class' => '',
                                                    'id' => '',
                                                ],
                                                'default_value' => '',
                                                'placeholder' => '',
                                                'prepend' => '',
                                                'append' => '',
                                                'maxlength' => '',
                                            ],
                                            [
                                                'key' => 'field_5af2a0fcb1027',
                                                'label' => 'Description',
                                                'name' => 'description',
                                                'type' => 'markdown-editor',
                                                'instructions' => '',
                                                'required' => 0,
                                                'conditional_logic' => 0,
                                                'wrapper' => [
                                                    'width' => '',
                                                    'class' => '',
                                                    'id' => '',
                                                ],
                                                'simple_mde_config' => 'standard',
                                                'font_size' => 14,
                                            ],
                                        ],
                                    ],
                                    [
                                        'key' => 'field_5a4f4e5f17462',
                                        'label' => 'Locked Content',
                                        'name' => 'locked_content',
                                        'type' => 'true_false',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => [
                                            [
                                                [
                                                    'field' => 'field_5921f0c676974',
                                                    'operator' => '==',
                                                    'value' => '1',
                                                ],
                                            ],
                                        ],
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'message' => '',
                                        'default_value' => 0,
                                        'ui' => 0,
                                        'ui_on_text' => '',
                                        'ui_off_text' => '',
                                    ],
                                    [
                                        'key' => 'field_5af2a198b1028',
                                        'label' => 'Display Format',
                                        'name' => 'display_hint',
                                        'type' => 'radio',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'choices' => [
                                            'default' => 'Default',
                                            'inline' => 'Inline',
                                            'parallax' => 'Parallax',
                                        ],
                                        'allow_null' => 0,
                                        'other_choice' => 0,
                                        'save_other_choice' => 0,
                                        'default_value' => 'default',
                                        'layout' => 'vertical',
                                        'return_format' => 'value',
                                    ],
                                ],
                                'min' => '',
                                'max' => '',
                            ],
                            '58aae89d0f005' => [
                                'key' => '58aae89d0f005',
                                'name' => 'inserted_code',
                                'label' => 'Inserted Code',
                                'display' => 'block',
                                'sub_fields' => [
                                    [
                                        'key' => 'field_58aae8b00f006',
                                        'label' => 'Code',
                                        'name' => 'code',
                                        'type' => 'textarea',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'default_value' => '',
                                        'placeholder' => '',
                                        'maxlength' => '',
                                        'rows' => '',
                                        'new_lines' => '',
                                    ],
                                    [
                                        'key' => 'field_5922bdbd5cda1',
                                        'label' => 'Locked Content',
                                        'name' => 'locked_content',
                                        'type' => 'true_false',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => [
                                            [
                                                [
                                                    'field' => 'field_5921f0c676974',
                                                    'operator' => '==',
                                                    'value' => '1',
                                                ],
                                            ],
                                        ],
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'message' => '',
                                        'default_value' => 0,
                                        'ui' => 0,
                                        'ui_on_text' => '',
                                        'ui_off_text' => '',
                                    ],
                                ],
                                'min' => '',
                                'max' => '',
                            ],
                            '58aae479d3958' => [
                                'key' => '58aae479d3958',
                                'name' => 'infobox',
                                'label' => 'Infobox',
                                'display' => 'block',
                                'sub_fields' => [
                                    [
                                        'key' => 'field_58aae4b6809c7',
                                        'label' => 'Title',
                                        'name' => 'title',
                                        'type' => 'text',
                                        'instructions' => '',
                                        'required' => 1,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'default_value' => '',
                                        'placeholder' => '',
                                        'prepend' => '',
                                        'append' => '',
                                        'maxlength' => '',
                                    ],
                                    [
                                        'key' => 'field_58aae4d4809c8',
                                        'label' => 'Body',
                                        'name' => 'body',
                                        'type' => 'markdown-editor',
                                        'instructions' => '',
                                        'required' => 1,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'simple_mde_config' => 'simple',
                                        'font_size' => 14,
                                    ],
                                    [
                                        'key' => 'field_5922bdd55cda2',
                                        'label' => 'Locked Content',
                                        'name' => 'locked_content',
                                        'type' => 'true_false',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => [
                                            [
                                                [
                                                    'field' => 'field_5921f0c676974',
                                                    'operator' => '==',
                                                    'value' => '1',
                                                ],
                                            ],
                                        ],
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'message' => '',
                                        'default_value' => 0,
                                        'ui' => 0,
                                        'ui_on_text' => '',
                                        'ui_off_text' => '',
                                    ],
                                ],
                                'min' => '',
                                'max' => '',
                            ],
                            'layout_5bbb614643179' => [
                                'key' => 'layout_5bbb614643179',
                                'name' => 'lead_paragraph',
                                'label' => 'Lead Paragraph',
                                'display' => 'block',
                                'sub_fields' => [
                                    [
                                        'key' => 'field_5bbb61464317a',
                                        'label' => 'Title',
                                        'name' => 'title',
                                        'type' => 'text',
                                        'instructions' => '',
                                        'required' => 1,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'default_value' => '',
                                        'placeholder' => '',
                                        'prepend' => '',
                                        'append' => '',
                                        'maxlength' => '',
                                    ],
                                    [
                                        'key' => 'field_5bbb61464317b',
                                        'label' => 'Description',
                                        'name' => 'description',
                                        'type' => 'markdown-editor',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'simple_mde_config' => 'simple',
                                        'font_size' => 14,
                                    ],
                                    [
                                        'key' => 'field_5bbb61464317d',
                                        'label' => 'Display Format',
                                        'name' => 'display_hint',
                                        'type' => 'radio',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'choices' => [
                                            'default' => 'Default',
                                            'chapter' => 'Chapter',
                                        ],
                                        'allow_null' => 0,
                                        'other_choice' => 0,
                                        'default_value' => 'ordered',
                                        'layout' => 'vertical',
                                        'return_format' => 'value',
                                        'save_other_choice' => 0,
                                    ],
                                ],
                                'min' => '',
                                'max' => '',
                            ],
                            'layout_5bb4bd1afd048' => [
                                'key' => 'layout_5bb4bd1afd048',
                                'name' => 'paragraph_list',
                                'label' => 'Paragraph List',
                                'display' => 'block',
                                'sub_fields' => [
                                    [
                                        'key' => 'field_5bb4bd2ffd049',
                                        'label' => 'Title',
                                        'name' => 'title',
                                        'type' => 'text',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'default_value' => '',
                                        'placeholder' => '',
                                        'prepend' => '',
                                        'append' => '',
                                        'maxlength' => '',
                                    ],
                                    [
                                        'key' => 'field_5bb4bd38fd04a',
                                        'label' => 'Description',
                                        'name' => 'description',
                                        'type' => 'markdown-editor',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'simple_mde_config' => 'simple',
                                        'font_size' => 14,
                                    ],
                                    [
                                        'key' => 'field_5bb4bd65fd04b',
                                        'label' => 'Image',
                                        'name' => 'image',
                                        'type' => 'image',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'return_format' => 'array',
                                        'preview_size' => 'thumbnail',
                                        'library' => 'all',
                                        'min_width' => '',
                                        'min_height' => '',
                                        'min_size' => '',
                                        'max_width' => '',
                                        'max_height' => '',
                                        'max_size' => '',
                                        'mime_types' => '',
                                    ],
                                    [
                                        'key' => 'field_5bd30f723cdcc',
                                        'label' => 'Collapsible',
                                        'name' => 'collapsible',
                                        'type' => 'true_false',
                                        'instructions' => 'Should this paragraph list be collapsed in the view?',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'message' => '',
                                        'default_value' => 0,
                                        'ui' => 0,
                                        'ui_on_text' => '',
                                        'ui_off_text' => '',
                                    ],
                                    [
                                        'key' => 'field_5bb4bd75fd04c',
                                        'label' => 'Display Format',
                                        'name' => 'display_hint',
                                        'type' => 'radio',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'choices' => [
                                            'ordered' => 'Number List',
                                            'unordered' => 'Bullet List',
                                            'image' => 'Image List',
                                            'custom' => 'Custom List',
                                        ],
                                        'allow_null' => 0,
                                        'other_choice' => 0,
                                        'default_value' => 'ordered',
                                        'layout' => 'vertical',
                                        'return_format' => 'value',
                                        'save_other_choice' => 0,
                                    ],
                                    [
                                        'key' => 'field_5bb4be68fd04d',
                                        'label' => 'Items',
                                        'name' => 'items',
                                        'type' => 'repeater',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'collapsed' => '',
                                        'min' => 0,
                                        'max' => 0,
                                        'layout' => 'row',
                                        'button_label' => 'Add item',
                                        'sub_fields' => [
                                            [
                                                'key' => 'field_5bb4be86fd04e',
                                                'label' => 'Title',
                                                'name' => 'title',
                                                'type' => 'text',
                                                'instructions' => '',
                                                'required' => 1,
                                                'conditional_logic' => 0,
                                                'wrapper' => [
                                                    'width' => '',
                                                    'class' => '',
                                                    'id' => '',
                                                ],
                                                'default_value' => '',
                                                'placeholder' => '',
                                                'prepend' => '',
                                                'append' => '',
                                                'maxlength' => '',
                                            ],
                                            [
                                                'key' => 'field_5bb4be91fd04f',
                                                'label' => 'Description',
                                                'name' => 'description',
                                                'type' => 'markdown-editor',
                                                'instructions' => '',
                                                'required' => 1,
                                                'conditional_logic' => 0,
                                                'wrapper' => [
                                                    'width' => '',
                                                    'class' => '',
                                                    'id' => '',
                                                ],
                                                'simple_mde_config' => 'simple',
                                                'font_size' => 14,
                                            ],
                                            [
                                                'key' => 'field_5bb4bea5fd050',
                                                'label' => 'Image',
                                                'name' => 'image',
                                                'type' => 'image',
                                                'instructions' => '',
                                                'required' => 0,
                                                'conditional_logic' => 0,
                                                'wrapper' => [
                                                    'width' => '',
                                                    'class' => '',
                                                    'id' => '',
                                                ],
                                                'return_format' => 'array',
                                                'preview_size' => 'thumbnail',
                                                'library' => 'all',
                                                'min_width' => '',
                                                'min_height' => '',
                                                'min_size' => '',
                                                'max_width' => '',
                                                'max_height' => '',
                                                'max_size' => '',
                                                'mime_types' => '',
                                            ],
                                        ],
                                    ],
                                ],
                                'min' => '',
                                'max' => '',
                            ],
                            '58e393a7128b3' => [
                                'key' => '58e393a7128b3',
                                'name' => 'associated_composites',
                                'label' => 'Sub Content',
                                'display' => 'block',
                                'sub_fields' => [
                                    [
                                        'key' => 'field_58e393e0128b4',
                                        'label' => 'Content',
                                        'name' => 'composites',
                                        'type' => 'relationship',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'post_type' => [
                                            0 => 'contenthub_composite',
                                        ],
                                        'taxonomy' => [
                                        ],
                                        'filters' => [
                                            0 => 'search',
                                            1 => 'taxonomy',
                                        ],
                                        'elements' => '',
                                        'min' => '',
                                        'max' => '',
                                        'return_format' => 'object',
                                    ],
                                    [
                                        'key' => 'field_5922be585cda6',
                                        'label' => 'Locked Content',
                                        'name' => 'locked_content',
                                        'type' => 'true_false',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => [
                                            [
                                                [
                                                    'field' => 'field_5921f0c676974',
                                                    'operator' => '==',
                                                    'value' => '1',
                                                ],
                                            ],
                                        ],
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'message' => '',
                                        'default_value' => 0,
                                        'ui' => 0,
                                        'ui_on_text' => '',
                                        'ui_off_text' => '',
                                    ],
                                ],
                                'min' => '',
                                'max' => '',
                            ],
                            '58aeadaacbe5c' => [
                                'key' => '58aeadaacbe5c',
                                'name' => 'inventory',
                                'label' => 'Inventory',
                                'display' => 'block',
                                'sub_fields' => [
                                    [
                                        'key' => 'field_58e3971e4d277',
                                        'label' => 'Title',
                                        'name' => 'title',
                                        'type' => 'text',
                                        'instructions' => '',
                                        'required' => 1,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'default_value' => '',
                                        'placeholder' => '',
                                        'prepend' => '',
                                        'append' => '',
                                        'maxlength' => '',
                                        'readonly' => 0,
                                        'disabled' => 0,
                                    ],
                                    [
                                        'key' => 'field_58aeadcdcbe5d',
                                        'label' => 'Inventory Items',
                                        'name' => 'inventory_items',
                                        'type' => 'repeater',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'collapsed' => '',
                                        'min' => 0,
                                        'max' => 0,
                                        'layout' => 'table',
                                        'button_label' => 'Add Row',
                                        'sub_fields' => [
                                            [
                                                'key' => 'field_58aeae3fcbe61',
                                                'label' => 'Name',
                                                'name' => 'name',
                                                'type' => 'text',
                                                'instructions' => '',
                                                'required' => 1,
                                                'conditional_logic' => 0,
                                                'wrapper' => [
                                                    'width' => '',
                                                    'class' => '',
                                                    'id' => '',
                                                ],
                                                'default_value' => '',
                                                'placeholder' => '',
                                                'prepend' => '',
                                                'append' => '',
                                                'maxlength' => '',
                                                'readonly' => 0,
                                                'disabled' => 0,
                                            ],
                                            [
                                                'key' => 'field_58aeae4ccbe62',
                                                'label' => 'Value',
                                                'name' => 'value',
                                                'type' => 'text',
                                                'instructions' => '',
                                                'required' => 0,
                                                'conditional_logic' => 0,
                                                'wrapper' => [
                                                    'width' => '',
                                                    'class' => '',
                                                    'id' => '',
                                                ],
                                                'default_value' => '',
                                                'placeholder' => '',
                                                'prepend' => '',
                                                'append' => '',
                                                'maxlength' => '',
                                                'readonly' => 0,
                                                'disabled' => 0,
                                            ],
                                        ],
                                    ],
                                    [
                                        'key' => 'field_5922be6d5cda7',
                                        'label' => 'Locked Content',
                                        'name' => 'locked_content',
                                        'type' => 'true_false',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => [
                                            [
                                                [
                                                    'field' => 'field_5921f0c676974',
                                                    'operator' => '==',
                                                    'value' => '1',
                                                ],
                                            ],
                                        ],
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'message' => '',
                                        'default_value' => 0,
                                        'ui' => 0,
                                        'ui_on_text' => '',
                                        'ui_off_text' => '',
                                    ],
                                ],
                                'min' => '',
                                'max' => '',
                            ],
                            'layout_5bb21d074132f' => [
                                'key' => 'layout_5bb21d074132f',
                                'name' => 'hotspot_image',
                                'label' => 'Hotspot Image',
                                'display' => 'block',
                                'sub_fields' => [
                                    [
                                        'key' => 'field_5bb21d1841330',
                                        'label' => 'Title',
                                        'name' => 'title',
                                        'type' => 'text',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'default_value' => '',
                                        'placeholder' => '',
                                        'prepend' => '',
                                        'append' => '',
                                        'maxlength' => '',
                                    ],
                                    [
                                        'key' => 'field_5bb21d2a2c2c4',
                                        'label' => 'Description',
                                        'name' => 'description',
                                        'type' => 'markdown-editor',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'simple_mde_config' => 'standard',
                                        'font_size' => 14,
                                    ],
                                    [
                                        'key' => 'field_5bb21d3b2c2c5',
                                        'label' => 'Image',
                                        'name' => 'image',
                                        'type' => 'image',
                                        'instructions' => '',
                                        'required' => 1,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'return_format' => 'array',
                                        'preview_size' => 'large',
                                        'library' => 'all',
                                        'min_width' => '',
                                        'min_height' => '',
                                        'min_size' => '',
                                        'max_width' => '',
                                        'max_height' => '',
                                        'max_size' => '',
                                        'mime_types' => '',
                                    ],
                                    [
                                        'key' => 'field_5bb36df662c91',
                                        'label' => 'Display Format',
                                        'name' => 'display_hint',
                                        'type' => 'radio',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'choices' => [
                                            'ordered' => 'ordered',
                                            'unordered' => 'unordered',
                                        ],
                                        'allow_null' => 0,
                                        'other_choice' => 0,
                                        'default_value' => '',
                                        'layout' => 'vertical',
                                        'return_format' => 'value',
                                        'save_other_choice' => 0,
                                    ],
                                    [
                                        'key' => 'field_5bb21d902c2c6',
                                        'label' => 'Hotspots',
                                        'name' => 'hotspots',
                                        'type' => 'repeater',
                                        'instructions' => '',
                                        'required' => 1,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'collapsed' => '',
                                        'min' => 1,
                                        'max' => 0,
                                        'layout' => 'block',
                                        'button_label' => 'Add Hotspot',
                                        'sub_fields' => [
                                            [
                                                'key' => 'field_5bb21db12c2c7',
                                                'label' => 'Title',
                                                'name' => 'title',
                                                'type' => 'text',
                                                'instructions' => '',
                                                'required' => 0,
                                                'conditional_logic' => 0,
                                                'wrapper' => [
                                                    'width' => '',
                                                    'class' => '',
                                                    'id' => '',
                                                ],
                                                'default_value' => '',
                                                'placeholder' => '',
                                                'prepend' => '',
                                                'append' => '',
                                                'maxlength' => '',
                                            ],
                                            [
                                                'key' => 'field_5bb21db72c2c8',
                                                'label' => 'Description',
                                                'name' => 'description',
                                                'type' => 'markdown-editor',
                                                'instructions' => '',
                                                'required' => 1,
                                                'conditional_logic' => 0,
                                                'wrapper' => [
                                                    'width' => '',
                                                    'class' => '',
                                                    'id' => '',
                                                ],
                                                'simple_mde_config' => 'simple',
                                                'font_size' => 14,
                                            ],
                                            [
                                                'key' => 'field_5bb21dc52c2c9',
                                                'label' => 'Coordinates',
                                                'name' => 'coordinates',
                                                'type' => 'image-hotspot-coordinates',
                                                'instructions' => '',
                                                'required' => 1,
                                                'conditional_logic' => 0,
                                                'wrapper' => [
                                                    'width' => '',
                                                    'class' => '',
                                                    'id' => '',
                                                ],
                                            ],
                                        ],
                                    ],
                                ],
                                'min' => '',
                                'max' => '',
                            ],
                            'layout_5bb315118c73b' => [
                                'key' => 'layout_5bb315118c73b',
                                'name' => 'quote',
                                'label' => 'Quote',
                                'display' => 'block',
                                'sub_fields' => [
                                    [
                                        'key' => 'field_5bb315248c73c',
                                        'label' => 'Quote',
                                        'name' => 'quote',
                                        'type' => 'textarea',
                                        'instructions' => '',
                                        'required' => 1,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'default_value' => '',
                                        'placeholder' => '',
                                        'maxlength' => '',
                                        'rows' => 2,
                                        'new_lines' => '',
                                    ],
                                    [
                                        'key' => 'field_5bb315e38c73d',
                                        'label' => 'Author',
                                        'name' => 'author',
                                        'type' => 'text',
                                        'instructions' => '',
                                        'required' => 0,
                                        'conditional_logic' => 0,
                                        'wrapper' => [
                                            'width' => '',
                                            'class' => '',
                                            'id' => '',
                                        ],
                                        'default_value' => '',
                                        'placeholder' => '',
                                        'prepend' => '',
                                        'append' => '',
                                        'maxlength' => '',
                                    ],
                                ],
                                'min' => '',
                                'max' => '',
                            ],
                        ],
                        'button_label' => 'Add Widget',
                        'min' => '',
                        'max' => '',
                    ],
                    [
                        'key' => static::SHELL_LINK_FIELD,
                        'label' => 'Shell Link',
                        'name' => 'shell_link',
                        'type' => 'url',
                        'instructions' => 'Enter the URL that the shell article should direct users to',
                        'required' => 1,
                        'conditional_logic' => [
                            [
                                [
                                    'field' => static::KIND_FIELD,
                                    'operator' => '==',
                                    'value' => static::KIND_TYPE_SHELL,
                                ],
                            ],
                        ],
                        'wrapper' => [
                            'width' => '',
                            'class' => '',
                            'id' => '',
                        ],
                        'default_value' => '',
                        'placeholder' => 'Example of valid URL: https://google.com',
                    ],
                ],
                'location' => [
                    [
                        [
                            'param' => 'post_type',
                            'operator' => '==',
                            'value' => WpComposite::POST_TYPE,
                        ],
                    ],
                ],
                'menu_order' => 1,
                'position' => 'acf_after_title',
                'style' => 'seamless',
                'label_placement' => 'top',
                'instruction_placement' => 'label',
                'hide_on_screen' => [
                    0 => 'slug',
                    1 => 'author',
                    2 => 'categories',
                ],
                'active' => 1,
                'description' => 'test',
            ]);
        endif;
    }

    private static function register_author_hooks()
    {
        add_filter('acf/load_value/key=' . self::AUTHOR_KEY, function ($value) {
            return get_post()->post_author ?: wp_get_current_user()->ID;
        }, 10, 1);
        add_filter('acf/update_value/key=' . self::AUTHOR_KEY, function ($newAuthor) {
            $post = get_post();
            $oldAuthor = $post->post_author;
            if (intval($newAuthor) !== intval($oldAuthor)) {
                $post->post_author = $newAuthor;
                wp_update_post($post);
            }
            return null;
        }, 10, 1);
    }
}
